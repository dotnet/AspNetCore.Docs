---
title: "ASP0004: Do not use action results with route handlers"
description: "Learn about analysis rule ASP0004: Do not use action results with route handlers"
author: captainsafia
monikerRange: '>= aspnetcore-3.1'
ms.author: riande
ms.date: 10/21/2021
no-loc: [Home, Privacy, Kestrel, appsettings.json, "ASP.NET Core Identity", cookie, Cookie, Blazor, "Blazor Server", "Blazor WebAssembly", "Identity", "Let's Encrypt", Razor, SignalR]
uid: diagnostics/asp0007
---
# ASP0004: Do not use action results with route handlers

| | Value |
|-|-|
| **Rule ID** |ASP0004|
| **Category** |Usage|
| **Fix is breaking or non-breaking** |Non-breaking|

## Cause

A minimal endpoint returns a type that derives from `IActionResult` instead of `IResult`.

## Rule description

To support proper serialization, a minimal endpoint should return a Result type that derives from `IResult` instead of MVC's `IActionResult`. 

```csharp
app.MapGet("/todos/{id}", (int id) => Mvc.JsonResult(new Todo { .. }));
```

## How to fix violations

To fix a violation of this rule, make sure that endpoint's route handler returns an `IResult` type by using the `Results.` extension methods.

```csharp
app.MapGet("/todos/{id}", (int id) => Results.Ok(new Todo { .. }));
```

## When to suppress warnings

Do not suppress a warning from this rule. Misplaced attributes can result in unexpected behavior at runtime.
